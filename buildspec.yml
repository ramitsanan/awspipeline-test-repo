version: 0.2
phases:
    install: 
        runtime-versions:
            nodejs: 10
        commands: 
            - 'npm install -g gatsby react react-dom typescript'
    pre_build:
        commands:
            - 'npm install' 
            - 'npm run test'   
    build:
        commands:
            - 'npm run build'
    post_build:
        commands:
            - 'aws s3 sync "public" "s3://prodigy-githubassrc-test-bucket"'
artifacts:
    base-directory: public
    files:
        - '**/*'
    discard-paths: yes